// import { NextFetchEvent, NextMiddleware, NextRequest, NextResponse } from "next/server";
// import { Matcher, MiddlewareFactory } from "./utils/types";
// import ObjectToMap from "./utils/ObjectToMap";

// const withRedirect: MiddlewareFactory = (next: NextMiddleware) => {
//     return async (request: NextRequest, _next: NextFetchEvent, meta: { key: number | string; ctx: any }) => {
//         const res = await next(request, _next);
//         if (request.nextUrl.pathname.startsWith("/_next")) {
//             return res;
//         }
//         const redirectMap = ObjectToMap({
//             auth: "/auth/me"
//         });
//         const path = redirectMap.get(meta.key as string);
//         if (meta.key && path) {
//             return NextResponse.redirect(new URL(path, request.url));
//         }
//         return res;
//     };
// };

// export default withRedirect;

// export const matcher: Matcher = {
//     auth: "^/auth$"
// };
